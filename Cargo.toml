[workspace]
members = ["adb_cli", "adb_client"]
resolver = "2"

[workspace.package]
edition = "2021"
keywords = ["adb", "android", "tcp", "usb"]
license-file = "LICENSE"
repository = "https://github.com/cocool97/adb_client"
version = "2.0.1"

# To build locally when working on a new release
[patch.crates-io]
adb_client = { path = "./adb_client" }

[profile.release]
codegen-units = 1
debug-assertions = false
lto = "thin"
opt-level = 'z'
strip = true

[workspace.metadata.deb]
extended-description = """\
Interact with ADB server with or without using ADB server.
"""
depends = "$auto"
section = "utility"
priority = "optional"
assets = [
    { source = "target/release/adb_cli", dest = "usr/bin/", mode = "755"},
]